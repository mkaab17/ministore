import{r as n,u as v,j as e,s as f,a as c,b as w,e as p,f as d,d as u,G as S,h as A,i as N}from"./index-hWs3_Azh.js";import{S as L}from"./shopping-bag-xQUV8D0K.js";import"./createLucideIcon-C4OtHORO.js";const k=()=>{const[o,h]=n.useState(""),[i,x]=n.useState(""),[a,y]=n.useState(!0),[m,l]=n.useState(""),g=v(),b=async s=>{s.preventDefault(),l("");try{let t;a?t=await f(c,o,i):(t=await w(c,o,i),await p(d(u,"users",t.user.uid),{email:t.user.email,createdAt:new Date().toISOString()})),g("/dashboard")}catch(t){l(t.message)}},j=async()=>{const s=new S;try{const r=(await A(c,s)).user;(await N(d(u,"users",r.uid))).exists()||await p(d(u,"users",r.uid),{email:r.email,displayName:r.displayName,photoURL:r.photoURL,createdAt:new Date().toISOString()}),g("/dashboard")}catch(t){l(t.message)}};return e.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:e.jsxs("div",{className:"glass glass-card",style:{width:"100%",maxWidth:"400px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[e.jsxs("h2",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx(L,{color:"#6366f1"})," miniStore"]}),e.jsx("p",{style:{color:"var(--text-muted)"},children:a?"Welcome back! Login to manage your store.":"Create your account to start selling."})]}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Email Address"}),e.jsx("input",{type:"email",className:"input",value:o,onChange:s=>h(s.target.value),required:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"label",children:"Password"}),e.jsx("input",{type:"password",className:"input",value:i,onChange:s=>x(s.target.value),required:!0})]}),m&&e.jsx("p",{style:{color:"var(--error)",fontSize:"0.875rem",marginBottom:"1rem"},children:m}),e.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},children:a?"Login":"Create Account"})]}),e.jsxs("div",{style:{margin:"1.5rem 0",textAlign:"center",position:"relative"},children:[e.jsx("hr",{style:{border:"none",borderTop:"1px solid var(--surface-border)"}}),e.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--background)",padding:"0 10px",fontSize:"0.75rem",color:"var(--text-muted)"},children:"OR"})]}),e.jsx("button",{onClick:j,className:"btn btn-secondary",style:{width:"100%",marginBottom:"1.5rem"},children:"Continue with Google"}),e.jsxs("p",{style:{textAlign:"center",fontSize:"0.875rem"},children:[a?"Don't have an account?":"Already have an account?",e.jsx("button",{onClick:()=>y(!a),style:{background:"none",border:"none",color:"var(--primary)",cursor:"pointer",marginLeft:"0.5rem",fontWeight:"600"},children:a?"Sign Up":"Login"})]})]})})};export{k as default};
